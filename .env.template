# Environment Configuration

# Options: 'development', 'production'
NODE_ENV=development
# The port your server will listen on
PORT=8080
# Hostname for the server
HOST=localhost

# CORS Settings

# Allowed CORS origin, adjust as necessary
CORS_ORIGIN=http://localhost:8080

# Rate Limiting

# Window size for rate limiting (ms)
COMMON_RATE_LIMIT_WINDOW_MS=1000
# Max number of requests per window per IP
COMMON_RATE_LIMIT_MAX_REQUESTS=20

# MongoDB

# MongoDB connection string
MONGO_URI=mongodb://localhost:27017
# Database name
MONGO_DB=fee-consolidation

# Fee Collector — Polygon

# Polygon RPC endpoint
FEE_COLLECTOR_POLYGON_RPC=https://polygon-rpc.com
# FeeCollector contract on Polygon
FEE_COLLECTOR_POLYGON_ADDRESS=0xbD6C7B0d2f68c2b7805d88388319cfB6EcB50eA9
# Oldest block to consider on Polygon
FEE_COLLECTOR_POLYGON_START_BLOCK=78600000
# Blocks to roll back on reorg (Polygon)
FEE_COLLECTOR_POLYGON_REORG_BACKTRACK=200

# Fee Collector — Ethereum (POC)
# FEE_COLLECTOR_ETHEREUM_RPC=https://polygon-rpc.com
# FEE_COLLECTOR_ETHEREUM_ADDRESS=0xbD6C7B0d2f68c2b7805d88388319cfB6EcB50eA9
# FEE_COLLECTOR_ETHEREUM_START_BLOCK=78600000
# FEE_COLLECTOR_ETHEREUM_REORG_BACKTRACK=64

# Fee Collector — Sync Settings (shared across all chains)

# Blocks behind head to treat as finalized
FEE_COLLECTOR_CONFIRMATIONS=20
# Max block range per query
FEE_COLLECTOR_BATCH_SIZE=10
# Delay between poll cycles (ms)
FEE_COLLECTOR_POLL_INTERVAL_MS=15000
# Delay between batches to avoid RPC rate limits (ms)
FEE_COLLECTOR_BATCH_DELAY_MS=200


# Docker Compose — Worker

# Comma-separated chains for the worker (e.g. "polygon,ethereum")
WORKER_CHAINS=polygon